import{S as e,i as t,s,e as a,t as n,c as i,a as l,g as r,d as c,b as d,f as o,F as g,H as h,G as $,k as f,n as m,I as u,J as p,h as v,K as x,j as b,m as D,o as S,v as k,r as y,w as I,L as E,M as w,l as z,B as A,N,u as T,O}from"../chunks/vendor-38bac64d.js";import{D as j,a as M,b as B,r as H}from"../chunks/reorder-b1d79d97.js";function U(e){let t,s,f,m,u;return{c(){t=a("div"),s=a("button"),f=n("Add"),this.h()},l(e){t=i(e,"DIV",{class:!0});var a=l(t);s=i(a,"BUTTON",{class:!0});var n=l(s);f=r(n,"Add"),n.forEach(c),a.forEach(c),this.h()},h(){d(s,"class","svelte-1g3u9mf"),d(t,"class","btn-add svelte-1g3u9mf")},m(a,n){o(a,t,n),g(t,s),g(s,f),m||(u=h(s,"click",e[5]),m=!0)},p:$,d(e){e&&c(t),m=!1,u()}}}function V(e){let t,s,x,b,D,S,k,y,I,E,w=e[0]+1+"",z=e[3]&&U(e);return{c(){t=a("div"),s=a("div"),x=n(w),b=f(),D=n(e[6]),S=f(),k=a("input"),y=f(),z&&z.c(),this.h()},l(a){t=i(a,"DIV",{class:!0,style:!0});var n=l(t);s=i(n,"DIV",{});var d=l(s);x=r(d,w),b=m(d),D=r(d,e[6]),d.forEach(c),S=m(n),k=i(n,"INPUT",{type:!0}),y=m(n),z&&z.l(n),n.forEach(c),this.h()},h(){d(k,"type","checkbox"),k.checked=e[2],d(t,"class","item svelte-1g3u9mf"),u(t,"--color",e[6]),p(t,"isDragging",e[1])},m(a,n){o(a,t,n),g(t,s),g(s,x),g(s,b),g(s,D),g(t,S),g(t,k),g(t,y),z&&z.m(t,null),I||(E=h(k,"change",e[4]),I=!0)},p(e,[s]){1&s&&w!==(w=e[0]+1+"")&&v(x,w),4&s&&(k.checked=e[2]),e[3]?z?z.p(e,s):(z=U(e),z.c(),z.m(t,null)):z&&(z.d(1),z=null),2&s&&p(t,"isDragging",e[1])},i:$,o:$,d(e){e&&c(t),z&&z.d(),I=!1,E()}}}function C(e,t,s){let{item:a={}}=t,{index:n=0}=t,{isDragging:i=!1}=t,{isSelected:l=!1}=t,{enableAdd:r=!1}=t;const c=x(),{value:d}=a;return e.$$set=e=>{"item"in e&&s(7,a=e.item),"index"in e&&s(0,n=e.index),"isDragging"in e&&s(1,i=e.isDragging),"isSelected"in e&&s(2,l=e.isSelected),"enableAdd"in e&&s(3,r=e.enableAdd)},[n,i,l,r,e=>c("select",{id:a.id,isSelected:e.target.checked}),()=>{c("add",{id:a.id})},d,a]}class F extends e{constructor(e){super(),t(this,e,C,V,s,{item:7,index:0,isDragging:1,isSelected:2,enableAdd:3})}}function G(e,t,s){const a=e.slice();return a[8]=t[s],a[10]=s,a}function J(e){let t,s;return t=new F({props:{item:e[8],index:e[10],isDragging:e[11],isSelected:e[1].has(e[8].id)}}),t.$on("select",e[3]),t.$on("add",e[5]),{c(){b(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,a){S(t,e,a),s=!0},p(e,s){const a={};1&s&&(a.item=e[8]),1&s&&(a.index=e[10]),2048&s&&(a.isDragging=e[11]),3&s&&(a.isSelected=e[1].has(e[8].id)),t.$set(a)},i(e){s||(k(t.$$.fragment,e),s=!0)},o(e){y(t.$$.fragment,e),s=!1},d(e){I(t,e)}}}function K(e,t){let s,a,n;return a=new B({props:{index:t[10],isSelected:t[1].has(t[8].id),$$slots:{default:[J,({isDragging:e})=>({11:e}),({isDragging:e})=>e?2048:0]},$$scope:{ctx:t}}}),{key:e,first:null,c(){s=z(),b(a.$$.fragment),this.h()},l(e){s=z(),D(a.$$.fragment,e),this.h()},h(){this.first=s},m(e,t){o(e,s,t),S(a,e,t),n=!0},p(e,s){t=e;const n={};1&s&&(n.index=t[10]),3&s&&(n.isSelected=t[1].has(t[8].id)),6147&s&&(n.$$scope={dirty:s,ctx:t}),a.$set(n)},i(e){n||(k(a.$$.fragment,e),n=!0)},o(e){y(a.$$.fragment,e),n=!1},d(e){e&&c(s),I(a,e)}}}function L(e){let t,s,f,m;return{c(){t=a("button"),s=n("More"),this.h()},l(e){t=i(e,"BUTTON",{class:!0});var a=l(t);s=r(a,"More"),a.forEach(c),this.h()},h(){d(t,"class","add svelte-r4e5a3")},m(a,n){o(a,t,n),g(t,s),f||(m=h(t,"click",e[5]),f=!0)},p:$,d(e){e&&c(t),f=!1,m()}}}function P(e){let t,s,a,n,i,l=[],r=new Map,d=e[0];const g=e=>e[8].id;for(let c=0;c<d.length;c+=1){let t=G(e,d,c),s=g(t);r.set(s,l[c]=K(s,t))}return s=new M({}),n=new B({props:{index:e[0].length,draggable:!1,$$slots:{default:[L]},$$scope:{ctx:e}}}),{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=f(),b(s.$$.fragment),a=f(),b(n.$$.fragment)},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=m(e),D(s.$$.fragment,e),a=m(e),D(n.$$.fragment,e)},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);o(e,t,r),S(s,e,r),o(e,a,r),S(n,e,r),i=!0},p(e,s){2091&s&&(d=e[0],A(),l=N(l,s,g,1,e,d,r,t.parentNode,O,K,t,G),T());const a={};1&s&&(a.index=e[0].length),4096&s&&(a.$$scope={dirty:s,ctx:e}),n.$set(a)},i(e){if(!i){for(let e=0;e<d.length;e+=1)k(l[e]);k(s.$$.fragment,e),k(n.$$.fragment,e),i=!0}},o(e){for(let t=0;t<l.length;t+=1)y(l[t]);y(s.$$.fragment,e),y(n.$$.fragment,e),i=!1},d(e){for(let t=0;t<l.length;t+=1)l[t].d(e);e&&c(t),I(s,e),e&&c(a),I(n,e)}}}function q(e){let t,s,$,p,v,x,E,w,z,A,N,T;return z=new j({props:{debug:!0,class:"test-drag",strategy:"horizontal",size:e[0].length,itemDimension:e[6][e[2]],$$slots:{default:[P]},$$scope:{ctx:e}}}),z.$on("dragend",e[4]),{c(){t=a("main"),s=a("h2"),$=n("Horizontal"),p=f(),v=a("button"),x=n("Change Size"),E=f(),w=a("div"),b(z.$$.fragment),this.h()},l(e){t=i(e,"MAIN",{class:!0});var a=l(t);s=i(a,"H2",{class:!0});var n=l(s);$=r(n,"Horizontal"),n.forEach(c),p=m(a),v=i(a,"BUTTON",{class:!0});var d=l(v);x=r(d,"Change Size"),d.forEach(c),E=m(a),w=i(a,"DIV",{class:!0,style:!0});var o=l(w);D(z.$$.fragment,o),o.forEach(c),a.forEach(c),this.h()},h(){d(s,"class","svelte-r4e5a3"),d(v,"class","svelte-r4e5a3"),d(w,"class","drag svelte-r4e5a3"),u(w,"--sds-color-scrollbar","tomato"),d(t,"class","svelte-r4e5a3")},m(a,n){o(a,t,n),g(t,s),g(s,$),g(t,p),g(t,v),g(v,x),g(t,E),g(t,w),S(z,w,null),A=!0,N||(T=h(v,"click",e[7]),N=!0)},p(e,[t]){const s={};1&t&&(s.size=e[0].length),4&t&&(s.itemDimension=e[6][e[2]]),4099&t&&(s.$$scope={dirty:t,ctx:e}),z.$set(s)},i(e){A||(k(z.$$.fragment,e),A=!0)},o(e){y(z.$$.fragment,e),A=!1},d(e){e&&c(t),I(z),N=!1,T()}}}function Q(e,t,s){let a=Object.keys(E).filter(((e,t)=>t<40)).map((e=>({id:w(6),value:e}))),n=new Set;const i=[[180,100],[120,120]];let l=0;return[a,n,l,({detail:e})=>{const{id:t,isSelected:a}=e;a?n.add(t):n.delete(t),s(1,n)},({detail:e})=>{const{dragIds:t,dropIndex:n}=e;H(a,t,n),s(0,a)},({detail:e})=>{let t=a.length;e.id&&(t=a.findIndex((t=>t.id===e.id))+1),a.splice(t,0,{id:w(6),value:Object.keys(E)[a.length]}),s(0,a)},i,()=>{s(2,l=(l+1)%i.length)}]}export default class extends e{constructor(e){super(),t(this,e,Q,q,s,{})}}
